<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Health Reminder PRO</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="popup-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">üí™</span>
                <h1>Health Reminder PRO</h1>
            </div>
            <div class="status-badge" id="statusBadge">
                <span class="status-dot"></span>
                <span class="status-text" id="statusText">ƒêang ki·ªÉm tra...</span>
            </div>
        </header>

        <!-- Time Display -->
        <section class="time-section">
            <div class="current-time" id="currentTime">--:--:--</div>
            <div class="current-date" id="currentDate">--</div>
        </section>

        <!-- Progress Bar -->
        <section class="progress-section">
            <div class="progress-header">
                <span>Ti·∫øn ƒë·ªô ng√†y l√†m vi·ªác</span>
                <span id="workPercent">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </section>

        <!-- Tabs Navigation -->
        <nav class="tabs-nav">
            <button class="tab-btn active" data-tab="timers">‚è±Ô∏è Timer</button>
            <button class="tab-btn" data-tab="youtube">üì∫ YouTube</button>
            <button class="tab-btn" data-tab="focus">üéØ Focus</button>
            <button class="tab-btn" data-tab="exercise">üí™ T·∫≠p</button>
            <button class="tab-btn" data-tab="settings">‚öôÔ∏è</button>
        </nav>

        <!-- Tab: Timers -->
        <section class="tab-content active" id="tab-timers">
            <div class="timers-grid">
                <div class="timer-card" data-type="walk">
                    <div class="timer-icon">üö∂</div>
                    <div class="timer-info">
                        <span class="timer-label">ƒêi b·ªô</span>
                        <span class="timer-countdown" id="walkTimer">--:--</span>
                    </div>
                    <button class="reset-btn" data-timer="walk" title="Reset">‚Üª</button>
                </div>

                <div class="timer-card" data-type="water">
                    <div class="timer-icon">üíß</div>
                    <div class="timer-info">
                        <span class="timer-label">U·ªëng n∆∞·ªõc</span>
                        <span class="timer-countdown" id="waterTimer">--:--</span>
                    </div>
                    <button class="reset-btn" data-timer="water" title="Reset">‚Üª</button>
                </div>

                <div class="timer-card" data-type="eye_20_20_20">
                    <div class="timer-icon">üëÅÔ∏è</div>
                    <div class="timer-info">
                        <span class="timer-label">20-20-20</span>
                        <span class="timer-countdown" id="eyeTimer">--:--</span>
                    </div>
                    <button class="reset-btn" data-timer="eye_20_20_20" title="Reset">‚Üª</button>
                </div>

                <div class="timer-card" data-type="blink">
                    <div class="timer-icon">üòä</div>
                    <div class="timer-info">
                        <span class="timer-label">Ch·ªõp m·∫Øt</span>
                        <span class="timer-countdown" id="blinkTimer">--:--</span>
                    </div>
                    <button class="reset-btn" data-timer="blink" title="Reset">‚Üª</button>
                </div>

                <div class="timer-card" data-type="posture">
                    <div class="timer-icon">ü™ë</div>
                    <div class="timer-info">
                        <span class="timer-label">T∆∞ th·∫ø</span>
                        <span class="timer-countdown" id="postureTimer">--:--</span>
                    </div>
                    <button class="reset-btn" data-timer="posture" title="Reset">‚Üª</button>
                </div>

                <div class="timer-card" data-type="neck_stretch">
                    <div class="timer-icon">üßò</div>
                    <div class="timer-info">
                        <span class="timer-label">Gi√£n c·ªï</span>
                        <span class="timer-countdown" id="neckTimer">--:--</span>
                    </div>
                    <button class="reset-btn" data-timer="neck_stretch" title="Reset">‚Üª</button>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <button class="action-btn pause" id="btnPause">
                    <span class="btn-icon" id="pauseIcon">‚è∏Ô∏è</span>
                    <span id="pauseText">T·∫°m d·ª´ng</span>
                </button>
                <button class="action-btn reset" id="btnResetAll">
                    <span class="btn-icon">üîÑ</span>
                    <span>Reset t·∫•t c·∫£</span>
                </button>
            </div>
        </section>

        <!-- Tab: Focus Mode & Pomodoro -->
        <section class="tab-content" id="tab-focus">
            <!-- Focus Mode -->
            <div class="focus-section">
                <h3 class="section-title">üéØ Focus Mode</h3>
                <p class="section-desc">T·∫°m d·ª´ng t·∫•t c·∫£ nh·∫Øc nh·ªü ƒë·ªÉ t·∫≠p trung</p>
                <div class="focus-buttons">
                    <button class="focus-btn" data-minutes="15">15 ph√∫t</button>
                    <button class="focus-btn" data-minutes="30">30 ph√∫t</button>
                    <button class="focus-btn" data-minutes="45">45 ph√∫t</button>
                    <button class="focus-btn" data-minutes="60">60 ph√∫t</button>
                </div>
                <button class="stop-btn hidden" id="btnStopFocus">‚èπÔ∏è D·ª´ng Focus</button>
                <div class="focus-status hidden" id="focusStatus">
                    <span class="focus-icon">üéØ</span>
                    <span class="focus-time" id="focusTimeLeft">--:--</span>
                </div>
            </div>

            <!-- Pomodoro -->
            <div class="pomodoro-section">
                <h3 class="section-title">üçÖ Pomodoro Timer</h3>
                <p class="section-desc">25 ph√∫t l√†m vi·ªác, 5 ph√∫t ngh·ªâ</p>
                <div class="pomodoro-display" id="pomodoroDisplay">
                    <div class="pomodoro-time" id="pomodoroTime">25:00</div>
                    <div class="pomodoro-state" id="pomodoroState">S·∫µn s√†ng</div>
                </div>
                <div class="pomodoro-buttons">
                    <button class="pomodoro-btn start" id="btnStartPomodoro">‚ñ∂Ô∏è B·∫Øt ƒë·∫ßu</button>
                    <button class="pomodoro-btn stop hidden" id="btnStopPomodoro">‚èπÔ∏è D·ª´ng</button>
                </div>
                <div class="pomodoro-count">
                    <span>üìä Ho√†n th√†nh h√¥m nay: </span>
                    <span id="pomodoroCount">0</span>
                </div>
            </div>
        </section>

        <!-- Tab: Exercise -->
        <section class="tab-content" id="tab-exercise">
            <h3 class="section-title">üí™ B√†i t·∫≠p ngay</h3>
            <div class="exercise-grid">
                <button class="exercise-btn" data-exercise="neck">
                    <span class="ex-icon">üßò</span>
                    <span class="ex-label">Gi√£n c·ªï</span>
                </button>
                <button class="exercise-btn" data-exercise="shoulder">
                    <span class="ex-icon">üí™</span>
                    <span class="ex-label">Gi√£n vai</span>
                </button>
                <button class="exercise-btn" data-exercise="eye">
                    <span class="ex-icon">üëÅÔ∏è</span>
                    <span class="ex-label">B√†i t·∫≠p m·∫Øt</span>
                </button>
                <button class="exercise-btn" data-exercise="breathing">
                    <span class="ex-icon">üå¨Ô∏è</span>
                    <span class="ex-label">H√≠t th·ªü</span>
                </button>
                <button class="exercise-btn" data-exercise="posture">
                    <span class="ex-icon">ü™ë</span>
                    <span class="ex-label">T∆∞ th·∫ø</span>
                </button>
                <button class="exercise-btn" data-exercise="rule_20_20_20">
                    <span class="ex-icon">üëÄ</span>
                    <span class="ex-label">20-20-20</span>
                </button>
                <button class="exercise-btn" data-exercise="blink">
                    <span class="ex-icon">üòä</span>
                    <span class="ex-label">Ch·ªõp m·∫Øt</span>
                </button>
                <button class="exercise-btn" data-exercise="stand_up">
                    <span class="ex-icon">üö∂</span>
                    <span class="ex-label">ƒê·ª©ng d·∫≠y</span>
                </button>
            </div>
        </section>

        <!-- Tab: YouTube -->
        <section class="tab-content" id="tab-youtube">
            <!-- No YouTube State -->
            <div class="youtube-empty" id="youtubeEmpty">
                <div class="youtube-empty-icon">üì∫</div>
                <p class="youtube-empty-text">Kh√¥ng t√¨m th·∫•y tab YouTube</p>
                <p class="youtube-empty-hint">M·ªü YouTube tr√™n Chrome ƒë·ªÉ ƒëi·ªÅu khi·ªÉn video</p>
                <button class="youtube-open-btn" id="btnOpenYoutube">M·ªü YouTube</button>
            </div>

            <!-- YouTube Tabs List -->
            <div class="youtube-tabs-container hidden" id="youtubeTabsContainer">
                <!-- Tabs List Header -->
                <div class="youtube-tabs-header">
                    <span class="youtube-tabs-title">C√°c tab YouTube</span>
                    <span class="youtube-tabs-count" id="youtubeTabsCount">0</span>
                </div>

                <!-- Tabs List -->
                <div class="youtube-tabs-list" id="youtubeTabsList">
                    <!-- Tab items will be inserted here dynamically -->
                </div>

                <!-- Selected Tab Controls -->
                <div class="youtube-controls-section" id="youtubeControlsSection">
                    <div class="youtube-progress">
                        <div class="youtube-progress-bar" id="youtubeProgressBar">
                            <div class="youtube-progress-fill" id="youtubeProgressFill"></div>
                        </div>
                        <div class="youtube-time">
                            <span id="youtubeCurrentTime">0:00</span>
                            <span id="youtubeTotalTime">0:00</span>
                        </div>
                    </div>

                    <div class="youtube-controls-row">
                        <div class="youtube-volume">
                            <button class="youtube-btn volume" id="btnYoutubeMute" title="Mute">
                                <span class="btn-icon" id="youtubeVolumeIcon">üîä</span>
                            </button>
                            <input type="range" id="youtubeVolumeSlider" min="0" max="100" value="100">
                        </div>

                        <div class="youtube-controls">
                            <button class="youtube-btn" id="btnYoutubePrev" title="Video tr∆∞·ªõc">
                                <span class="btn-icon">‚èÆÔ∏è</span>
                            </button>
                            <button class="youtube-btn play-pause" id="btnYoutubePlayPause" title="Play/Pause">
                                <span class="btn-icon" id="youtubePlayIcon">‚ñ∂Ô∏è</span>
                            </button>
                            <button class="youtube-btn" id="btnYoutubeNext" title="Video ti·∫øp">
                                <span class="btn-icon">‚è≠Ô∏è</span>
                            </button>
                        </div>

                        <div class="youtube-speed">
                            <select id="youtubeSpeedSelect" title="T·ªëc ƒë·ªô ph√°t">
                                <option value="0.25">0.25x</option>
                                <option value="0.5">0.5x</option>
                                <option value="0.75">0.75x</option>
                                <option value="1" selected>1x</option>
                                <option value="1.25">1.25x</option>
                                <option value="1.5">1.5x</option>
                                <option value="1.75">1.75x</option>
                                <option value="2">2x</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tab: Settings -->
        <section class="tab-content" id="tab-settings">
            <!-- Work Hours -->
            <div class="settings-group">
                <h3 class="section-title">üìÖ Gi·ªù l√†m vi·ªác</h3>
                <div class="setting-row">
                    <label>B·∫Øt ƒë·∫ßu:</label>
                    <input type="time" id="settingWorkStart" value="08:00">
                </div>
                <div class="setting-row">
                    <label>K·∫øt th√∫c:</label>
                    <input type="time" id="settingWorkEnd" value="17:30">
                </div>
                <div class="setting-row">
                    <label>Ngh·ªâ tr∆∞a t·ª´:</label>
                    <input type="time" id="settingLunchStart" value="11:30">
                </div>
                <div class="setting-row">
                    <label>Ngh·ªâ tr∆∞a ƒë·∫øn:</label>
                    <input type="time" id="settingLunchEnd" value="13:00">
                </div>
            </div>

            <!-- Weekend Mode -->
            <div class="settings-group">
                <h3 class="section-title">üìÜ Ng√†y l√†m vi·ªác</h3>
                <div class="setting-row">
                    <label>Ch·∫ø ƒë·ªô:</label>
                    <select id="settingWeekendMode">
                        <option value="mon_fri">T2 - T6</option>
                        <option value="mon_sat_full">T2 - T7 (c·∫£ ng√†y)</option>
                        <option value="mon_sat_half">T2 - T7 (n·ª≠a ng√†y T7)</option>
                        <option value="mon_sun_full">T2 - CN (c·∫£ ng√†y)</option>
                        <option value="mon_sun_half">T2 - CN (n·ª≠a ng√†y CN)</option>
                    </select>
                </div>
                <div class="setting-row half-day-setting hidden" id="saturdayEndRow">
                    <label>T7 k·∫øt th√∫c:</label>
                    <input type="time" id="settingSaturdayEnd" value="12:00">
                </div>
                <div class="setting-row half-day-setting hidden" id="sundayEndRow">
                    <label>CN k·∫øt th√∫c:</label>
                    <input type="time" id="settingSundayEnd" value="12:00">
                </div>
            </div>

            <!-- Special Reminders -->
            <div class="settings-group">
                <h3 class="section-title">üåô Nh·∫Øc nh·ªü ƒë·∫∑c bi·ªát</h3>
                <div class="setting-row">
                    <label>Nh·∫Øc ng·ªß:</label>
                    <input type="time" id="settingSleepTime" value="23:00">
                </div>
                <div class="setting-row">
                    <label>Night Mode:</label>
                    <input type="time" id="settingNightMode" value="18:00">
                </div>
            </div>

            <!-- Intervals -->
            <div class="settings-group">
                <h3 class="section-title">‚è±Ô∏è Th·ªùi gian nh·∫Øc (ph√∫t)</h3>
                <div class="intervals-grid">
                    <div class="interval-item">
                        <label>üö∂ ƒêi b·ªô</label>
                        <input type="number" id="intervalWalk" min="5" max="120" value="30">
                    </div>
                    <div class="interval-item">
                        <label>üíß N∆∞·ªõc</label>
                        <input type="number" id="intervalWater" min="5" max="120" value="45">
                    </div>
                    <div class="interval-item">
                        <label>üëÅÔ∏è 20-20-20</label>
                        <input type="number" id="intervalEye" min="5" max="60" value="20">
                    </div>
                    <div class="interval-item">
                        <label>ü™ë T∆∞ th·∫ø</label>
                        <input type="number" id="intervalPosture" min="5" max="120" value="45">
                    </div>
                </div>
            </div>

            <!-- Toggles -->
            <div class="settings-group">
                <h3 class="section-title">üîî Th√¥ng b√°o</h3>
                <div class="setting-row toggle-row">
                    <label>B·∫≠t th√¥ng b√°o</label>
                    <input type="checkbox" id="settingNotification" checked>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="settings-actions">
                <button class="settings-btn save" id="btnSaveSettings">üíæ L∆∞u c√†i ƒë·∫∑t</button>
                <button class="settings-btn reset" id="btnResetSettings">üîÑ ƒê·∫∑t l·∫°i m·∫∑c ƒë·ªãnh</button>
                <button class="settings-btn test" id="btnTestNotification">üì¢ Test th√¥ng b√°o</button>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <span>Work Health Reminder PRO v3.0</span>
        </footer>
    </div>

    <!-- Exercise Modal -->
    <div class="modal-overlay" id="exerciseModal">
        <div class="modal">
            <div class="modal-header">
                <h2 id="modalTitle">B√†i t·∫≠p</h2>
                <button class="close-btn" id="btnCloseModal">‚úï</button>
            </div>
            <div class="modal-body">
                <pre id="modalContent"></pre>
            </div>
            <div class="modal-footer">
                <button class="done-btn" id="btnDone">ƒê√£ l√†m ‚úì</button>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <script src="exercises.js"></script>
    <script src="popup.js"></script>
</body>
</html>
